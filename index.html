<!doctype html>   
	<head>
		<meta charset="utf-8">
		<!-- the title tag should be 60 characters or less -->  
		<title>wheresmymonkey.com</title>
		<!-- meta description must be limited to 160 characters or less -->
		<meta name="description" content="A social network game that connects real people in real life"> 
		<meta name="author" content="David Lewis">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<!-- jQuery Mobile -->
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
		<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
		<script type="text/javascript" src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
		<script type="text/javascript" src="js/flogin.js"></script>

		<script type="text/javascript">
			<!-- jQuery Mobile loading -->
			$( document ).bind( 'mobileinit', function(){
				$.mobile.loader.prototype.options.text = "loading";
				$.mobile.loader.prototype.options.textVisible = false;
				$.mobile.loader.prototype.options.theme = "a";
				$.mobile.loader.prototype.options.html = "";
			});

			<!-- flogin - http://garyrafferty.com/flogin/ -->
			$(function() {
				$('#login').facebook_login({
					appId: '61553152672',							// your facebook application id
					endpoint: 'sessions/new',						// where to POST the response to
					onSuccess: function(data) {alert("Success");},	// what to do on success
					onError: function(data) {alert("Failed");},		// what to do on error
					permissions: 'read_stream'						// what permissions you need, default is just email
				});
			});
		
			<!-- Activity - https://developers.facebook.com/docs/plugins/activity/ -->
			(function(d, s, id) {
				var js, fjs = d.getElementsByTagName(s)[0];
				if (d.getElementById(id)) return;
				js = d.createElement(s); js.id = id;
				js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=61553152672";
				fjs.parentNode.insertBefore(js, fjs);
			}(document, 'script', 'facebook-jssdk'));
		</script>

		<!-- My CSS -->
		<link rel="stylesheet" href="css/wheresmymonkey.css" />
		
	</head>
	<body>
		<!-- Home -->
		<div data-role="page" id="home">
			<div data-role="header" data-position="fixed">
				<h1>wheresmymonkey</h1>
			</div>
			<div data-role="content">
				<p>
					Yay, you found my monkey!
				</p>
				<div id="homeContent"></div>
				<p>
					<a href="#dialog" data-rel="dialog">Show Dialog</a>
				</p>
			</div>
			<div data-role="footer" data-id="foo1" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li><a href="#home" data-transition="slidefade">home</a></li>
						<li><a href="#keno" data-transition="slidefade">keno</a></li>
						<li><a href="#facebook" data-transition="slidefade">fb</a></li>
					</ul>
				</div>
			</div>
		</div>

		<!-- About -->
		<div data-role="page" id="about">
			<div data-role="header" data-position="fixed">
				<h1>About</h1>
			</div>
			<div data-role="content">
				<p>
					About Wheresmymonkey
				</p>
				<p>
					<a href="#dialog" data-rel="dialog" data-transition="pop">Open dialog</a>
				</p>
			</div>
			<div data-role="footer" data-id="foo1" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li><a href="#home" data-transition="slidefade">home</a></li>
						<li><a href="#keno" data-transition="slidefade">keno</a></li>
						<li><a href="#facebook" data-transition="slidefade">fb</a></li>
					</ul>
				</div>
			</div>
		</div>

		<!-- Keno Game -->
		<div data-role="page" id="keno">
			<div data-role="header" data-position="fixed">
				<h1>Keno</h1>
			</div>
			<div data-role="content">
				<div class="gmWrap">
					<div id="gmCard1" class="gmCard">
						<div class="gmRow">
							<div id="gmNbr1" class="gmNbr">1</div>
							<div id="gmNbr2" class="gmNbr">2</div>
							<div id="gmNbr3" class="gmNbr">3</div>
							<div id="gmNbr4" class="gmNbr">4</div>
							<div id="gmNbr5" class="gmNbr">5</div>
							<div id="gmNbr6" class="gmNbr">6</div>
							<div id="gmNbr7" class="gmNbr">7</div>
							<div id="gmNbr8" class="gmNbr">8</div>
							<div id="gmNbr9" class="gmNbr">9</div>
							<div id="gmNbr10" class="gmNbr">10</div>
						</div>
						<div class="gmRow">
							<div id="gmNbr11" class="gmNbr">11</div>
							<div id="gmNbr12" class="gmNbr">12</div>
							<div id="gmNbr13" class="gmNbr">13</div>
							<div id="gmNbr14" class="gmNbr">14</div>
							<div id="gmNbr15" class="gmNbr">15</div>
							<div id="gmNbr16" class="gmNbr">16</div>
							<div id="gmNbr17" class="gmNbr">17</div>
							<div id="gmNbr18" class="gmNbr">18</div>
							<div id="gmNbr19" class="gmNbr">19</div>
							<div id="gmNbr20" class="gmNbr">20</div>
						</div>
						<div class="gmRow">
							<div id="gmNbr21" class="gmNbr">21</div>
							<div id="gmNbr22" class="gmNbr">22</div>
							<div id="gmNbr23" class="gmNbr">23</div>
							<div id="gmNbr24" class="gmNbr">24</div>
							<div id="gmNbr25" class="gmNbr">25</div>
							<div id="gmNbr26" class="gmNbr">26</div>
							<div id="gmNbr27" class="gmNbr">27</div>
							<div id="gmNbr28" class="gmNbr">28</div>
							<div id="gmNbr29" class="gmNbr">29</div>
							<div id="gmNbr30" class="gmNbr">30</div>
						</div>
						<div class="gmRow">
							<div id="gmNbr31" class="gmNbr">31</div>
							<div id="gmNbr32" class="gmNbr">32</div>
							<div id="gmNbr33" class="gmNbr">33</div>
							<div id="gmNbr34" class="gmNbr">34</div>
							<div id="gmNbr35" class="gmNbr">35</div>
							<div id="gmNbr36" class="gmNbr">36</div>
							<div id="gmNbr37" class="gmNbr">37</div>
							<div id="gmNbr38" class="gmNbr">38</div>
							<div id="gmNbr39" class="gmNbr">39</div>
							<div id="gmNbr40" class="gmNbr">40</div>
						</div>
					</div>
						
					<div class="gameMessage">
						<div id="completeMsg">
							Drawing Game...
						</div>
					</div>
						
					<div id="gmCard2" class="gmCard">
						<div class="gmRow">
							<div id="gmNbr41" class="gmNbr">41</div>
							<div id="gmNbr42" class="gmNbr">42</div>
							<div id="gmNbr43" class="gmNbr">43</div>
							<div id="gmNbr44" class="gmNbr">44</div>
							<div id="gmNbr45" class="gmNbr">45</div>
							<div id="gmNbr46" class="gmNbr">46</div>
							<div id="gmNbr47" class="gmNbr">47</div>
							<div id="gmNbr48" class="gmNbr">48</div>
							<div id="gmNbr49" class="gmNbr">49</div>
							<div id="gmNbr50" class="gmNbr">50</div>
						</div>
						<div class="gmRow">
							<div id="gmNbr51" class="gmNbr">51</div>
							<div id="gmNbr52" class="gmNbr">52</div>
							<div id="gmNbr53" class="gmNbr">53</div>
							<div id="gmNbr54" class="gmNbr">54</div>
							<div id="gmNbr55" class="gmNbr">55</div>
							<div id="gmNbr56" class="gmNbr">56</div>
							<div id="gmNbr57" class="gmNbr">57</div>
							<div id="gmNbr58" class="gmNbr">58</div>
							<div id="gmNbr59" class="gmNbr">59</div>
							<div id="gmNbr60" class="gmNbr">60</div>
						</div>
						<div class="gmRow">
							<div id="gmNbr61" class="gmNbr">61</div>
							<div id="gmNbr62" class="gmNbr">62</div>
							<div id="gmNbr63" class="gmNbr">63</div>
							<div id="gmNbr64" class="gmNbr">64</div>
							<div id="gmNbr65" class="gmNbr">65</div>
							<div id="gmNbr66" class="gmNbr">66</div>
							<div id="gmNbr67" class="gmNbr">67</div>
							<div id="gmNbr68" class="gmNbr">68</div>
							<div id="gmNbr69" class="gmNbr">69</div>
							<div id="gmNbr70" class="gmNbr">70</div>
						</div>
						<div class="gmRow">
							<div id="gmNbr71" class="gmNbr">71</div>
							<div id="gmNbr72" class="gmNbr">72</div>
							<div id="gmNbr73" class="gmNbr">73</div>
							<div id="gmNbr74" class="gmNbr">74</div>
							<div id="gmNbr75" class="gmNbr">75</div>
							<div id="gmNbr76" class="gmNbr">76</div>
							<div id="gmNbr77" class="gmNbr">77</div>
							<div id="gmNbr78" class="gmNbr">78</div>
							<div id="gmNbr79" class="gmNbr">79</div>
							<div id="gmNbr80" class="gmNbr">80</div>
						</div>
					</div>
				</div>
			</div>
			<div data-role="footer" data-id="foo1" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li><a href="#home" data-transition="slidefade">home</a></li>
						<li><a href="#keno" data-transition="slidefade">keno</a></li>
						<li><a href="#facebook" data-transition="slidefade">fb</a></li>
					</ul>
				</div>
			</div>
		</div>
		
		<!-- Facebook Integration -->
		<div data-role="page" id="facebook">
			<div data-role="header" data-position="fixed">
				<h1>Facebook API Integration</h1>
			</div>
			<div data-role="content">
				<!-- Facebook Login-->
				<p>
					Facebook Login<br />
					<a href="#" id="login">Login with Facebook</a>
					<a href="#" id="logout" style="display:none">Logout of Facebook</a>
				</p>
				
				<!-- Facebook Activity -->
				<p>
					Activity<br />
					<div class="fb-activity" data-app-id="61553152672" data-site="developers.facebook.com" data-action="likes, recommends" data-width="The pixel width of the plugin. Defaults to 300px" data-height="The pixel height of the plugin. Defaults to 300px" data-colorscheme="light" data-header="true"></div>
				</p>
					
				<!-- Facebook Like -->
				<p>
					Like<br />
					<div class="fb-like" data-href="http://www.wheresmymonkey.com" data-width="The pixel width of the plugin" data-height="The pixel height of the plugin" data-colorscheme="light" data-layout="standard" data-action="like" data-show-faces="true" data-send="false"></div>
				</p>
			</div>
			<div data-role="footer" data-id="foo1" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li><a href="#home" data-transition="slidefade">home</a></li>
						<li><a href="#keno" data-transition="slidefade">keno</a></li>
						<li><a href="#facebook" data-transition="slidefade">fb</a></li>
					</ul>
				</div>
			</div>
		</div>
		
		<!-- Dialog -->
		<div data-role="dialog" id="dialog" data-close-btn="none">
			<div data-role="header" data-position="fixed">
				<h1>Dialog</h1>
			</div>
			<div data-role="content">
				<p>
					This is a dialog window
				</p>
				<a href="#" data-role="button" data-inline="true" data-rel="back">OK</a>
				<a href="#" data-role="button" data-inline="true" data-rel="back">Cancel</a>
			</div>
		</div>

		<script>
			/* 
				Why we need to use pageinit instead of $(document).ready
				http://stackoverflow.com/questions/14468659/jquery-mobile-document-ready-vs-page-events
				http://jquerymobile.com/demos/1.2.0/docs/api/events.html
			*/
			
			/* If you include the id of a "page" in the pageinit, it will only run the script when the "page" is active */
			// $(document).bind('pageinit') {
			// alert ("pageinit complete");
			// $( document ).ready(function() {
			
			$( document ).on( "pageinit", "#keno", function( event ) {
				// alert( "Keno Page" );
				/* Keno page */
				var gmNbr = [12,22,29,38,52,18,72,69,77,10,14];
				var index = 0;
				/* Keno show numbers. In a timeout so it doesn't start right away. */
				setTimeout(function() {
					function showNum() {
						var card = document.getElementById ("gmNbr" + gmNbr[index]);
						card.className = "gmNbr gmNbrOn";
						index = index + 1;
						if( index < gmNbr.length )
							setTimeout(function(){showNum()},1000);
						else
							document.getElementById('completeMsg').innerHTML = 'Game Complete';
						return false;
					}
					
				showNum();
					
				},4000);
			});

			// Ajax request for dynamic content
			$( document ).on( "pageinit", "#home", function( event ) {
				// alert( "Home Page" );
				$.ajax({
					url: "http://www.wheresmymonkey.com/pages/home.html",
					cache: false
				})
				.done(function( html ) {
					$( "#homeContent" ).append( html );
				}); 
				
			});

		</script>

	</body>   
</html>
